<!DOCTYPE html>
<html lang="hi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>‡§ö‡•á‡§§‡§®‡§æ ‡§Æ‡•Ä‡§ü‡§∞</title>

<style>
body{
  margin:0;
  min-height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
  background:#0b0b0f;
  font-family:system-ui,sans-serif;
  color:#fff;
}
.wrap{
  text-align:center;
}
button{
  margin-top:20px;
  padding:12px 28px;
  border:none;
  border-radius:24px;
  font-size:16px;
}
</style>
</head>

<body>

<div class="wrap">

<svg width="300" height="160" viewBox="0 0 300 160">

  <!-- üî¥ RED -->
  <path d="M30 140 A120 120 0 0 1 150 20"
        stroke="#ff3b3b" stroke-width="20" fill="none"/>

  <!-- üü° YELLOW -->
  <path d="M150 20 A120 120 0 0 1 270 140"
        stroke="#ffd369" stroke-width="20" fill="none"/>

  <!-- üü¢ GREEN (overlay part) -->
  <path d="M210 60 A120 120 0 0 1 270 140"
        stroke="#00c853" stroke-width="20" fill="none"/>

  <!-- NEEDLE -->
  <line id="needle"
        x1="150" y1="140"
        x2="150" y2="40"
        stroke="#ffffff"
        stroke-width="4"
        transform-origin="150px 140px"
        transform="rotate(-90 150 140)"
        style="transition:transform 1.4s ease"/>

  <!-- CENTER DOT -->
  <circle cx="150" cy="140" r="6" fill="#fff"/>

</svg>

<button id="btn">‡§™‡§∞‡§ø‡§£‡§æ‡§Æ ‡§¶‡•á‡§ñ‡•á‡§Ç</button>

</div>

<script>
/*
score expected: 0‚Äì100
‡§Ö‡§ó‡§∞ ‡§ï‡•Å‡§õ ‡§® ‡§Æ‡§ø‡§≤‡•á ‡§§‡•ã 0 (red)
*/
let score = Number(localStorage.getItem("score"));
if(isNaN(score)) score = 0;

/*
Angle mapping:
0   ‚Üí -90 (left / red)
50  ‚Üí 0   (center / yellow)
100 ‚Üí 90  (right / green)
*/
let angle = (score / 100) * 180 - 90;

document.getElementById("needle")
  .setAttribute(
    "transform",
    "rotate(" + angle + " 150 140)"
  );

/* Button color by zone */
let btn = document.getElementById("btn");
let level = 1;

if(score <= 30){
  btn.style.background = "#ff3b3b";
  level = 1;
}
else if(score <= 70){
  btn.style.background = "#ffd369";
  level = 2;
}
else{
  btn.style.background = "#00c853";
  level = 3;
}

localStorage.setItem("level", level);

btn.onclick = () => location.href = "result.html";
</script>

</body>
</html>
