<!DOCTYPE html>
<html lang="hi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>चेतना मीटर</title>

<style>
body{
  margin:0;
  min-height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
  font-family: system-ui, sans-serif;
  background:radial-gradient(circle at top,#0f1c3f,#081126,#040812);
  color:#fff;
}

/* ---------- CARD ---------- */
.card{
  width:90%;
  max-width:380px;
  text-align:center;
}

/* ---------- GAUGE ---------- */
.gauge-wrap{
  position:relative;
  width:260px;
  height:130px;
  margin:30px auto;
  overflow:hidden;
}

.gauge{
  width:260px;
  height:260px;
  border-radius:50%;
  background:conic-gradient(
    red 0deg,
    orange 45deg,
    yellow 90deg,
    #00ffcc 135deg,
    #00aaff 180deg
  );
  transform:rotate(-180deg);
}

/* ---------- NEEDLE ---------- */
.needle{
  position:absolute;
  width:4px;
  height:120px;
  background:#fff;
  bottom:0;
  left:50%;
  transform-origin:bottom center;
  transform:translateX(-50%) rotate(-90deg);
  transition:transform 2s ease-in-out;
  box-shadow:0 0 12px rgba(255,255,255,0.8);
}

.needle::after{
  content:"";
  position:absolute;
  bottom:-6px;
  left:-6px;
  width:16px;
  height:16px;
  background:#fff;
  border-radius:50%;
}

/* ---------- TEXT ---------- */
h2{
  font-weight:500;
  margin-bottom:6px;
}

.state{
  color:#a9c1ff;
  margin-bottom:10px;
}

button{
  margin-top:20px;
  padding:14px 30px;
  border:none;
  border-radius:30px;
  font-size:16px;
  background:linear-gradient(90deg,#00c6ff,#0072ff,#8e2de2);
  color:#fff;
}
</style>
</head>

<body>

<div class="card">

  <h2>आपकी वर्तमान<br>चेतना-स्थिति</h2>
  <div class="state" id="stateText"></div>

  <!-- GAUGE -->
  <div class="gauge-wrap">
    <div class="gauge"></div>
    <div class="needle" id="needle"></div>
  </div>

  <button onclick="location.href='result.html'">
    मार्ग देखें
  </button>

</div>

<script>
/*
Score 0–100 localStorage se aayega
*/
const score = Number(localStorage.getItem("meterScore")) || 0;

/*
0 = -90deg (left)
100 = +90deg (right)
*/
const angle = (score / 100) * 180 - 90;

setTimeout(()=>{
  document.getElementById("needle")
    .style.transform = `translateX(-50%) rotate(${angle}deg)`;
},500);

/* ---------- STATE TEXT ---------- */
let state="";
if(score <= 30) state="स्थिति : भ्रम";
else if(score <= 60) state="स्थिति : द्वंद्व";
else if(score <= 85) state="स्थिति : बोध";
else state="स्थिति : साक्षी";

document.getElementById("stateText").innerText = state;
</script>

</body>
</html>
